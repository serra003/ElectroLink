<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ElectroLink.az - Premium Elektronika Mağazası</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#0066FF',
            secondary: '#FF6B35',
            navyDark: '#0F172A',
            navyBox: '#1E293B',
          }
        }
      }
    }
  </script>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

* {
  font-family: 'Inter', sans-serif;
}

/* LOGO */
#logoImage {
  height: 42px;
  max-height: 42px;
  width: auto;
  object-fit: contain;
}

@media (min-width: 768px) {
  #logoImage {
    height: 48px;
    max-height: 48px;
  }
}

/* CAROUSEL CONTAINER - FIXED */
#carouselContainer {
  background: linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 100%);
  height: 450px;
  position: relative;
}

.dark #carouselContainer {
  background: linear-gradient(135deg, #1E293B 0%, #0F172A 100%);
}

@media (max-width: 768px) {
  #carouselContainer {
    height: 400px;
  }
}

/* CAROUSEL ITEMS */
.carousel-item {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.6s ease-in-out;
  pointer-events: none;
}

.carousel-item.active {
  opacity: 1;
  pointer-events: auto;
}

/* Carousel content wrapper */
.carousel-content {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  height: 100%;
  padding: 2rem;
  align-items: center;
}

@media (min-width: 768px) {
  .carousel-content {
    grid-template-columns: 1fr 1fr;
    padding: 3rem;
    gap: 3rem;
  }
}

/* Image side */
.carousel-image-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  max-height: 300px;
}

@media (min-width: 768px) {
  .carousel-image-wrapper {
    max-height: 350px;
  }
}

.carousel-item img {
  max-width: 90%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.15));
}

/* Text side */
.carousel-text {
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 1rem;
}

@media (min-width: 768px) {
  .carousel-text {
    text-align: left;
    gap: 1.5rem;
  }
}

/* CAROUSEL DOTS - REPOSITIONED */
.carousel-dots {
  display: flex;
  gap: 10px;
  justify-content: center;
  position: absolute;
  bottom: 1rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
}

@media (min-width: 768px) {
  .carousel-dots {
    bottom: 1.5rem;
  }
}

.carousel-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(0, 102, 255, 0.3);
  cursor: pointer;
  transition: all 0.3s ease;
}

.carousel-dot.active {
  background: #0066FF;
  width: 28px;
  border-radius: 5px;
}

/* PRODUCT CARDS */
.product-card {
  border-radius: 1rem;
  transition: all 0.3s ease;
}

.product-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.product-image {
  aspect-ratio: 4 / 5;
  background: #F3F4F6;
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dark .product-image {
  background: #0F172A;
}

.product-image img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: 12px;
}

/* CATEGORY CARDS */
.category-card {
  transition: all 0.3s ease;
}

.category-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(0, 102, 255, 0.2);
}

/* BUTTONS */
.btn-primary,
.btn-order {
  background: #0066FF;
  color: white;
  transition: all 0.3s ease;
}

.btn-primary:hover,
.btn-order:hover {
  background: #0052CC;
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 102, 255, 0.3);
}

.btn-secondary {
  background: transparent;
  border: 2px solid #FF6B35;
  color: #FF6B35;
  transition: all 0.3s ease;
}

.btn-secondary:hover {
  background: #FF6B35;
  color: white;
}

.dark .btn-secondary {
  color: #FF6B35;
  border-color: #FF6B35;
}

/* PRICE & BADGES */
.price {
  color: #FF6B35;
  font-weight: 700;
}

.badge-flash {
  position: absolute;
  top: 1rem;
  left: 1rem;
  background: #FF6B35;
  color: white;
  padding: 6px 14px;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 700;
  z-index: 10;
  box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);
}

.badge-new {
  background: #10B981;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

/* CART BADGE */
.cart-badge {
  position: absolute;
  top: -8px;
  right: -8px;
  background: #FF6B35;
  color: white;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
}

/* STEP NUMBER */
.step-number {
  position: absolute;
  top: -12px;
  right: -12px;
  background: #FF6B35;
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 16px;
}

/* LINE CLAMP */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* MODAL */
.modal-content {
  max-height: 90vh;
  overflow-y: auto;
}

/* WHATSAPP FLOAT */
.whatsapp-float {
  position: fixed;
  bottom: 25px;
  right: 25px;
  z-index: 1000;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@media (max-width: 768px) {
  .whatsapp-float {
    bottom: 20px;
    right: 20px;
  }
}

/* NOTIFICATION */
.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #10B981;
  color: white;
  padding: 16px 24px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  z-index: 9999;
  display: flex;
  align-items: center;
  animation: slideIn 0.3s ease;
}

@keyframes slideIn {
  from {
    transform: translateX(400px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.notification.hidden {
  display: none;
}

/* FOOTER */
footer {
  background: linear-gradient(135deg, #0F172A, #0066FF);
  color: white;
}

footer a:hover {
  color: #FF6B35;
}

/* Mobile product card improvements */
@media (max-width: 640px) {
  .product-card .grid {
    gap: 0.5rem;
  }
  
  .product-card .btn-order,
  .product-card .btn-secondary {
    font-size: 0.75rem;
    padding: 0.5rem 0.75rem;
  }
}

/* Hero section gradient text */
.gradient-text {
  background: linear-gradient(135deg, #0066FF 0%, #00D4FF 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

</style>

</head>
<body class="bg-white dark:bg-navyDark text-gray-900 dark:text-gray-100 transition-colors duration-300">

<!-- Navbar -->
<nav class="bg-white dark:bg-navyBox shadow-md sticky top-0 z-50 transition-colors">
  <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16 md:h-20">
      <div class="flex items-center flex-shrink-0">
        <a href="/">
          <img id="logoImage" class="h-8 md:h-10" src="/static/images/Electrolink transparent.png" alt="ElectroLink.az Logo" />
        </a>
      </div>

      <div class="hidden md:flex space-x-8 text-base ml-auto mr-16">
        <a href="/products" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition">Məhsullar</a>
        <a href="/about" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition">Haqqımızda</a>
        <a href="/contact" class="text-gray-700 dark:text-gray-300 hover:text-primary font-medium transition">Əlaqə</a>
      </div>

      <div class="flex items-center space-x-2 sm:space-x-4">
        <button id="themeToggle" class="p-1.5 sm:p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition">
          <i id="themeIcon" class="fas fa-moon text-lg sm:text-xl text-gray-700 dark:text-gray-300"></i>
        </button>
        <a href="/cart" class="relative p-1">
          <i class="fas fa-shopping-cart text-xl sm:text-2xl text-gray-700 dark:text-gray-300 hover:text-primary transition"></i>
          <span id="cartCount" class="cart-badge">0</span>
        </a>
        <button id="mobileMenuBtn" class="md:hidden text-gray-700 dark:text-gray-300 p-1.5">
          <i class="fas fa-bars text-xl"></i>
        </button>
      </div>
    </div>
  </div>

  <div id="mobileMenu" class="hidden md:hidden border-t bg-white dark:bg-navyBox border-gray-200 dark:border-gray-700">
    <div class="px-4 py-4 space-y-3">
      <a href="/products" class="block text-gray-700 dark:text-gray-300 hover:text-primary font-medium py-2">Məhsullar</a>
      <a href="/about" class="block text-gray-700 dark:text-gray-300 hover:text-primary font-medium py-2">Haqqımızda</a>
      <a href="/contact" class="block text-gray-700 dark:text-gray-300 hover:text-primary font-medium py-2">Əlaqə</a>
    </div>
  </div>
</nav>

<!-- Hero Section with Carousel -->
<section class="py-12 md:py-20 px-4 bg-gradient-to-br from-navyDark via-slate-900 to-navyDark">
  <div class="max-w-7xl mx-auto">
    
    <!-- Hero Title Above Carousel -->
    <div class="text-center mb-10">
      <h1 class="text-4xl md:text-6xl font-extrabold leading-tight text-white mb-4">
        Çox <span class="text-secondary">Çeşid</span>
      </h1>
      <h2 class="text-3xl md:text-5xl font-extrabold leading-tight">
        <span class="gradient-text">Keyfiyyətli Məhsullar</span>
      </h2>
      <p class="mt-6 text-gray-300 text-lg max-w-2xl mx-auto">
        Elektronika, TV Box, aksesuarlar və peşəkar xidmətlər – hamısı bir yerdə
      </p>
    </div>

    <!-- CAROUSEL -->
    <div class="relative overflow-hidden rounded-3xl shadow-2xl">
      <div id="carouselContainer" class="relative">
        <!-- Carousel items will be injected here -->
      </div>

      <!-- Dots -->
      <div class="carousel-dots"></div>

      <!-- Arrows -->
      <button
        id="prevSlide"
        class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/95 dark:bg-navyBox/95 p-3 rounded-full shadow-lg hover:bg-white hover:scale-110 transition z-10"
      >
        <i class="fas fa-chevron-left text-primary text-base"></i>
      </button>

      <button
        id="nextSlide"
        class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/95 dark:bg-navyBox/95 p-3 rounded-full shadow-lg hover:bg-white hover:scale-110 transition z-10"
      >
        <i class="fas fa-chevron-right text-primary text-base"></i>
      </button>
    </div>

  </div>
</section>

<!-- Featured Products Section -->
<section class="py-12 md:py-16 px-4 bg-gray-50 dark:bg-navyBox transition-colors">
  <div class="max-w-7xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-3 text-gray-900 dark:text-white">Seçilmiş Məhsullar</h2>
    <p class="text-center text-gray-600 dark:text-gray-400 mb-8 md:mb-10">Ən çox satılan və yeni məhsullarımız</p>
    <div id="featuredProducts" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6"></div>
  </div>
</section>

<!-- Services Section -->
<section class="py-12 md:py-16 px-4 bg-white dark:bg-navyDark transition-colors">
  <div class="max-w-7xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-8 text-gray-900 dark:text-white">
      Xidmətlərimiz
    </h2>

    <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6">

      <!-- TV Box quraşdırılması -->
      <div class="category-card bg-gray-50 dark:bg-navyBox p-6 rounded-xl shadow-md cursor-pointer">
        <div class="bg-primary/10 dark:bg-primary/20 w-14 h-14 rounded-lg flex items-center justify-center mb-4 mx-auto">
          <i class="fas fa-tv text-2xl text-primary"></i>
        </div>
        <h3 class="text-base font-bold mb-2 text-gray-900 dark:text-white text-center">
          TV Box Quraşdırılması
        </h3>
        <p class="text-sm text-gray-600 dark:text-gray-300 text-center">
          Kanal və sistem qurulumu
        </p>
      </div>

      <!-- Ümumi dəstək -->
      <div class="category-card bg-gray-50 dark:bg-navyBox p-6 rounded-xl shadow-md cursor-pointer">
        <div class="bg-secondary/10 dark:bg-secondary/20 w-14 h-14 rounded-lg flex items-center justify-center mb-4 mx-auto">
          <i class="fas fa-headset text-2xl text-secondary"></i>
        </div>
        <h3 class="text-base font-bold mb-2 text-gray-900 dark:text-white text-center">
          Ümumi Dəstək
        </h3>
        <p class="text-sm text-gray-600 dark:text-gray-300 text-center">
          Texniki məsləhət və yardım
        </p>
      </div>

      <!-- Quraşdırma köməyi -->
      <div class="category-card bg-gray-50 dark:bg-navyBox p-6 rounded-xl shadow-md cursor-pointer">
        <div class="bg-primary/10 dark:bg-primary/20 w-14 h-14 rounded-lg flex items-center justify-center mb-4 mx-auto">
          <i class="fas fa-tools text-2xl text-primary"></i>
        </div>
        <h3 class="text-base font-bold mb-2 text-gray-900 dark:text-white text-center">
          Quraşdırma Köməyi
        </h3>
        <p class="text-sm text-gray-600 dark:text-gray-300 text-center">
          Evdə və ofisdə quraşdırma
        </p>
      </div>

    </div>
  </div>
</section>

<!-- How to Order Section -->
<section class="py-12 md:py-16 px-4 bg-gray-50 dark:bg-navyBox transition-colors">
  <div class="max-w-7xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-3 text-gray-900 dark:text-white">Necə sifariş edim?</h2>
    <p class="text-center text-gray-600 dark:text-gray-400 mb-8 md:mb-10">Üç sadə addımda sifarişinizi verin</p>
    
    <div class="grid md:grid-cols-3 gap-6 md:gap-8">
      <div class="bg-white dark:bg-navyDark p-6 md:p-8 rounded-xl text-center relative">
        <div class="step-number">1</div>
        <div class="bg-secondary/10 dark:bg-secondary/20 w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-search text-2xl md:text-3xl text-secondary"></i>
        </div>
        <h3 class="text-lg md:text-xl font-bold mb-2 text-gray-900 dark:text-white">Məhsul seçin</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300">Kataloqdan istədiyiniz məhsulu seçin</p>
      </div>

      <div class="bg-white dark:bg-navyDark p-6 md:p-8 rounded-xl text-center relative">
        <div class="step-number">2</div>
        <div class="bg-primary/10 dark:bg-primary/20 w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-mouse-pointer text-2xl md:text-3xl text-primary"></i>
        </div>
        <h3 class="text-lg md:text-xl font-bold mb-2 text-gray-900 dark:text-white">"Sifariş Et" basın</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300">Məhsul səhifəsində sifariş düyməsini basın</p>
      </div>

      <div class="bg-white dark:bg-navyDark p-6 md:p-8 rounded-xl text-center relative">
        <div class="step-number">3</div>
        <div class="bg-green-500/10 dark:bg-green-500/20 w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-check-circle text-2xl md:text-3xl text-green-600"></i>
        </div>
        <h3 class="text-lg md:text-xl font-bold mb-2 text-gray-900 dark:text-white">Sifarişiniz təsdiqləndi</h3>
        <p class="text-sm text-gray-600 dark:text-gray-300">WhatsApp vasitəsilə sifarişi tamamlayın</p>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-gray-900 text-white py-12 px-4">
  <div class="max-w-7xl mx-auto grid md:grid-cols-4 gap-8 mb-8">
    <div>
      <h3 class="text-lg font-bold mb-4">Əlaqə</h3>
      <p class="mb-2 text-sm"><i class="fas fa-phone mr-2"></i> +994 10 505 16 15</p>
      <p class="mb-2 text-sm"><i class="fas fa-map-marker-alt mr-2"></i> Bakı, Azərbaycan</p>
    </div>
    <div>
      <h3 class="text-lg font-bold mb-4">İş Saatları</h3>
      <p class="text-sm">B.e - Cümə: 09:00 - 18:00</p>
      <p class="text-sm">Şənbə: 10:00 - 16:00</p>
      <p class="text-sm">Bazar: Bağlı</p>
    </div>
    <div>
      <h3 class="text-lg font-bold mb-4">Keçidlər</h3>
      <ul class="space-y-2 text-sm">
        <li><a href="/warranty" class="hover:text-primary transition">Terms and Conditions</a></li>
        <li><a href="/faq" class="hover:text-primary transition">Tez-tez Verilən Suallar</a></li>
      </ul>
    </div>
    <div>
      <h3 class="text-lg font-bold mb-4">Sosial Şəbəkələr</h3>
      <div class="flex space-x-4 text-2xl">
        <a href="https://www.instagram.com/electrolink.az/" target="_blank" class="hover:text-primary transition"><i class="fab fa-instagram"></i></a>
        <a href="https://www.tiktok.com/@electrolink.az" target="_blank" class="hover:text-primary transition"><i class="fab fa-tiktok"></i></a>
        <a href="https://wa.me/994105051615" target="_blank" class="hover:text-primary transition"><i class="fab fa-whatsapp"></i></a>
      </div>
    </div>
  </div>
  <div class="border-t border-gray-700 pt-8 text-center">
    <p class="text-sm">© 2025 ElectroLink.az - Bütün hüquqlar qorunur</p>
    <p class="text-xs text-gray-400 mt-1">VÖEN: 1234567890</p>
  </div>
</footer>

<!-- WhatsApp Floating Button -->
<a href="https://wa.me/994105051615" target="_blank" class="whatsapp-float">
  <div class="bg-green-500 text-white w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center shadow-2xl hover:bg-green-600 transition">
    <i class="fab fa-whatsapp text-3xl md:text-4xl"></i>
  </div>
</a>

<!-- Notification -->
<div id="notification" class="notification hidden">
  <i class="fas fa-check-circle mr-2"></i>
  <span class="font-semibold">Səbətə əlavə olundu</span>
</div>

<!-- PRODUCT DETAIL MODAL -->
<div id="productModal" class="fixed inset-0 z-[9999] hidden bg-black/60 flex items-center justify-center p-4">
  <div class="bg-white dark:bg-navyBox w-full max-w-5xl rounded-3xl shadow-2xl relative modal-content">
    
    <button id="closeModalBtn" class="absolute top-4 right-4 z-10 text-3xl text-gray-400 hover:text-primary transition">
      &times;
    </button>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 p-6">

      <!-- LEFT: Images Section -->
      <div>
        <img id="modalMainImage" class="w-full h-96 object-contain rounded-xl mb-4 cursor-pointer bg-gray-100 dark:bg-navyDark p-4">
        <div id="modalThumbnails" class="flex gap-3 flex-wrap"></div>
      </div>

      <!-- RIGHT: Product Info Section -->
      <div class="flex flex-col">
        <h2 id="modalName" class="text-3xl font-bold mb-2 text-gray-900 dark:text-white"></h2>
        <p id="modalCode" class="text-sm text-gray-500 dark:text-gray-400 mb-3"></p>
        <p id="modalPrice" class="text-4xl font-bold price mb-3"></p>
        <p id="modalStock" class="text-green-600 text-sm font-semibold mb-4">
          <i class="fas fa-check-circle mr-1"></i>Stokda mövcuddur
        </p>

        <p id="modalDescription" class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed"></p>

        <ul id="modalHighlights" class="space-y-2 mb-6 text-gray-700 dark:text-gray-300"></ul>

        <!-- Quantity Selector -->
        <div class="flex items-center gap-3 mb-6">
          <span class="text-gray-700 dark:text-gray-300 font-medium">Miqdar:</span>
          <button id="modalQtyMinus" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition">
            <i class="fas fa-minus"></i>
          </button>
          <input id="modalQty" type="number" value="1" min="1" class="w-20 text-center text-lg border-2 rounded-lg py-2 dark:bg-navyDark dark:border-gray-600 dark:text-white">
          <button id="modalQtyPlus" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition">
            <i class="fas fa-plus"></i>
          </button>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-3 mt-auto">
          <button id="modalOrderBtn" class="flex-1 btn-order px-6 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition">
            <i class="fab fa-whatsapp mr-2"></i>Sifariş Et
          </button>
          <button id="modalCartBtn" class="flex-1 btn-secondary px-6 py-4 rounded-xl font-bold text-lg hover:shadow-lg transition">
            <i class="fas fa-shopping-cart mr-2"></i>Səbətə At
          </button>
        </div>
      </div>

    </div>
  </div>
</div>

<script>
const root = document.documentElement;
const themeIcon = document.getElementById('themeIcon');
const logoImage = document.getElementById('logoImage');

function applyTheme(t) {
  if (t === 'dark') {
    root.classList.add('dark');
    themeIcon.className = 'fas fa-sun text-lg sm:text-xl text-yellow-400';
    logoImage.src = '/static/images/darkmodenew.png';
  } else {
    root.classList.remove('dark');
    themeIcon.className = 'fas fa-moon text-lg sm:text-xl text-gray-700';
    logoImage.src = '/static/images/Electrolink transparent.png';
  }
  localStorage.setItem('theme', t);
}

const products = [
  {
    id: 1,
    name: 'TV Box 4K Ultra HD',
    code: 'EL-TVB01',
    price: 149.99,
    image: "/static/images/xiaotv0.png",
    images: [
      '/static/images/xiaotv0.png',
      '/static/images/xiaotv1.png',
      '/static/images/xiaotv2.png'
    ],
    badge: 'Yeni',
    description: 'Güclü 2000W portativ qızdırıcı, sürətli və effektiv otaq isitmə.',
    highlights: ['2000W güclü isitmə', 'Avtomatik temperatur', 'Enerji qənaətcil']
  },
  { id: 2, name: 'Portativ Qızdırıcı 2000W', code: 'EL-QZD01', 
    price: 49.99, image: '/static/images/RAF qizdirici main.png', 
    images: ['/static/images/raf fan guc.png', '/static/images/raf fan dayan.png',
    '/static/images/raf fan.png' ], 
    badge: 'Yeni', 
    description: 'Güclü 2000W portativ qızdırıcı, sürətli və effektiv otaq isitmə.', 
    highlights: ['2000W güclü isitmə', 'Avtomatik temperatur', 'Enerji qənaətcil'] },
  {
    id: 3,
    name: 'Bluetooth Keyboard',
    code: 'EL-KB01',
    price: 13.99,
    image: '/static/images/kb0.png',
    images: ['/static/images/kb0.png', '/static/images/kb1.png'],
    badge: 'Endirim',
    description: 'Kompakt simsiz klaviatura touchpad ilə.',
    highlights: ['Bluetooth 5.0', 'Touchpad', 'Portativ']
  },
];

let currentSlide = 0;
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let modalProduct = null;

// Update cart count
function updateCartCount() {
  document.getElementById('cartCount').textContent = cart.length;
}
updateCartCount();

// Add to cart
function addToCart(product, qty = 1) {
  const existing = cart.find(p => p.id === product.id);
  if(existing) {
    existing.qty += qty;
  } else {
    cart.push({...product, qty});
  }
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
  showNotification();
}

// Show notification
function showNotification() {
  const notification = document.getElementById('notification');
  notification.classList.remove('hidden');
  setTimeout(() => notification.classList.add('hidden'), 2500);
}

// Order now via WhatsApp
function orderNow(name, code, price) {
  const message = `Salam! Sizdən ${name} (${code}) 1 ədəd sifariş etmək istəyirəm.`;
  window.open(`https://wa.me/994105051615?text=${encodeURIComponent(message)}`, '_blank');
}

// Carousel
function renderCarousel() {
  const container = document.getElementById('carouselContainer');
  const dotsContainer = document.querySelector('.carousel-dots');

  container.innerHTML = products.map((p, index) => `
    <div class="carousel-item ${index === currentSlide ? 'active' : ''}">
      <div class="grid md:grid-cols-2 gap-6 h-full p-6 md:p-8 items-center">
        <div class="relative flex items-center justify-center">
          <span class="badge-flash ${p.badge === 'Yeni' ? 'badge-new' : ''}">${p.badge}</span>
          <img 
            src="${p.image}" 
            alt="${p.name}" 
            loading="lazy"
          />
        </div>
        <div class="text-center md:text-left">
          <h3 class="text-xl md:text-3xl font-bold mb-3 text-gray-900 dark:text-white">${p.name}</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-4 text-sm md:text-base">${p.description}</p>
          <p class="text-2xl md:text-4xl font-bold price mb-6">${p.price} AZN</p>
          <button onclick='orderNow("${p.name}", "${p.code}", ${p.price})' class="btn-order px-6 md:px-8 py-3 md:py-4 rounded-lg font-bold text-base md:text-lg hover:shadow-lg transition">
            <i class="fab fa-whatsapp mr-2"></i>Sifariş Et
          </button>
        </div>
      </div>
    </div>
  `).join('');

  dotsContainer.innerHTML = products.map((_, index) => 
    `<div class="carousel-dot ${index === currentSlide ? 'active' : ''}" data-slide="${index}"></div>`
  ).join('');

  document.querySelectorAll('.carousel-dot').forEach(dot => {
    dot.addEventListener('click', () => {
      currentSlide = parseInt(dot.dataset.slide);
      renderCarousel();
    });
  });
}

function nextSlide() {
  currentSlide = (currentSlide + 1) % products.length;
  renderCarousel();
}

function prevSlide() {
  currentSlide = (currentSlide - 1 + products.length) % products.length;
  renderCarousel();
}

let carouselInterval = setInterval(nextSlide, 5000);

const carouselContainer = document.getElementById('carouselContainer');
carouselContainer.addEventListener('mouseenter', () => clearInterval(carouselInterval));
carouselContainer.addEventListener('mouseleave', () => {
  carouselInterval = setInterval(nextSlide, 5000);
});

document.getElementById('nextSlide').addEventListener('click', nextSlide);
document.getElementById('prevSlide').addEventListener('click', prevSlide);

// Featured products
function renderProducts() {
  const grid = document.getElementById('featuredProducts');
  grid.innerHTML = products.map(p => `
    <div class="product-card bg-white dark:bg-navyBox rounded-2xl shadow-lg overflow-hidden relative">
      ${p.badge ? `<span class="badge-flash ${p.badge === 'Yeni' ? 'badge-new' : ''}">${p.badge}</span>` : ''}
      <div class="cursor-pointer" data-product-id="${p.id}">
        <div class="product-image">
          <img src="${p.image}" alt="${p.name}" loading="lazy">
        </div>
        <div class="p-3 md:p-4">
          <p class="text-xs text-gray-500 dark:text-gray-400 mb-1">Kod: ${p.code}</p>
          <h3 class="text-sm md:text-base font-bold mb-2 line-clamp-2 text-gray-900 dark:text-white">${p.name}</h3>
          <p class="text-lg md:text-xl font-bold price mb-3">${p.price} AZN</p>
        </div>
      </div>
      <div class="px-3 pb-3 md:px-4 md:pb-4">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
          <button class="order-btn btn-order py-2 md:py-2.5 rounded-lg font-semibold text-xs md:text-sm" data-product-id="${p.id}">
            <i class="fab fa-whatsapp mr-1"></i>Sifariş Et
          </button>
          <button class="cart-btn btn-secondary py-2 md:py-2.5 rounded-lg font-semibold text-xs md:text-sm" data-product-id="${p.id}">
            <i class="fas fa-shopping-cart mr-1"></i>Səbətə
          </button>
        </div>
      </div>
    </div>
  `).join('');

  // Event listeners
  document.querySelectorAll('.product-card > div[data-product-id]').forEach(card => {
    card.addEventListener('click', function() {
      const product = products.find(p => p.id === parseInt(this.dataset.productId));
      if (product) openProductModal(product);
    });
  });

  document.querySelectorAll('.order-btn').forEach(btn => {
    btn.addEventListener('click', function(e) {
      e.stopPropagation();
      const product = products.find(p => p.id === parseInt(this.dataset.productId));
      if (product) orderNow(product.name, product.code, product.price);
    });
  });

  document.querySelectorAll('.cart-btn').forEach(btn => {
    btn.addEventListener('click', function(e) {
      e.stopPropagation();
      const product = products.find(p => p.id === parseInt(this.dataset.productId));
      if (product) addToCart(product);
    });
  });
}

// Modal
function openProductModal(product) {
  modalProduct = product;
  const modal = document.getElementById('productModal');
  modal.classList.remove('hidden');
  document.body.style.overflow = 'hidden';

  const images = product.images || [product.image];
  document.getElementById('modalMainImage').src = images[0];
  document.getElementById('modalName').textContent = product.name;
  document.getElementById('modalCode').textContent = 'Kod: ' + product.code;
  document.getElementById('modalPrice').textContent = product.price + ' AZN';
  document.getElementById('modalDescription').textContent = product.description || '';
  document.getElementById('modalQty').value = 1;

  const thumbs = document.getElementById('modalThumbnails');
  thumbs.innerHTML = '';
  images.forEach(img => {
    const t = document.createElement('img');
    t.src = img;
    t.className = 'w-16 h-16 object-cover rounded-lg cursor-pointer border-2 border-transparent hover:border-primary transition';
    t.onclick = () => document.getElementById('modalMainImage').src = img;
    thumbs.appendChild(t);
  });

  const highlights = product.highlights || [];
  const list = document.getElementById('modalHighlights');
  list.innerHTML = '';
  highlights.forEach(h => {
    list.innerHTML += `<li class="flex items-center gap-2"><i class="fas fa-check-circle text-primary"></i><span>${h}</span></li>`;
  });
}

function closeProductModal() {
  document.getElementById('productModal').classList.add('hidden');
  document.body.style.overflow = '';
}

document.getElementById('closeModalBtn').addEventListener('click', closeProductModal);

document.getElementById('modalQtyMinus').addEventListener('click', () => {
  const qtyInput = document.getElementById('modalQty');
  qtyInput.value = Math.max(1, parseInt(qtyInput.value) - 1);
});

document.getElementById('modalQtyPlus').addEventListener('click', () => {
  const qtyInput = document.getElementById('modalQty');
  qtyInput.value = parseInt(qtyInput.value) + 1;
});

document.getElementById('modalOrderBtn').addEventListener('click', () => {
  if (modalProduct) orderNow(modalProduct.name, modalProduct.code, modalProduct.price);
});

document.getElementById('modalCartBtn').addEventListener('click', () => {
  if (modalProduct) {
    const qty = parseInt(document.getElementById('modalQty').value);
    addToCart(modalProduct, qty);
    closeProductModal();
  }
});

themeToggle.addEventListener('click', () => {
  if (document.documentElement.classList.contains('dark')) {
    applyTheme('light');
  } else {
    applyTheme('dark');
  }
});

// Apply saved theme on load
const savedTheme = localStorage.getItem('theme') || 'light';
applyTheme(savedTheme);

// Mobile menu
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const mobileMenu = document.getElementById('mobileMenu');

mobileMenuBtn.addEventListener('click', () => {
  mobileMenu.classList.toggle('hidden');
});

mobileMenu.querySelectorAll('a').forEach(link => {
  link.addEventListener('click', () => {
    mobileMenu.classList.add('hidden');
  });
});

// Initial render
renderCarousel();
renderProducts();

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function(e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute('href'));
    if(target) target.scrollIntoView({ behavior: 'smooth' });
  });
});

</script>
</body>
</html>
